<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Online Shopper Prediction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #4e73df, #1cc88a);
            min-height: 100vh;
        }

        .dashboard-card {
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .form-control {
            border-radius: 10px;
        }

        .btn-modern {
            border-radius: 12px;
            font-weight: 600;
            transition: 0.3s;
        }

        .btn-modern:hover {
            transform: scale(1.03);
        }

        .result-box {
            border-radius: 15px;
            padding: 20px;
            background: #f8f9fc;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
        }
    </style>
</head>

<body>

<nav class="navbar navbar-dark bg-dark px-4">
    <span class="navbar-brand fw-bold">ðŸ“Š Shopper Analytics Dashboard</span>
    <a href="/admin" class="btn btn-outline-light btn-sm">Admin</a>
</nav>

<div class="container mt-5">

    <div class="dashboard-card p-5">

        <h3 class="text-center mb-4 fw-bold">Online Purchase Prediction</h3>

        <form action="/predict" method="POST">

            <div class="row">

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Administrative</label>
                    <input type="number" step="any" name="feature1" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Administrative Duration</label>
                    <input type="number" step="any" name="feature2" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Informational</label>
                    <input type="number" step="any" name="feature3" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Informational Duration</label>
                    <input type="number" step="any" name="feature4" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Product Related</label>
                    <input type="number" step="any" name="feature5" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Product Related Duration</label>
                    <input type="number" step="any" name="feature6" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Bounce Rates</label>
                    <input type="number" step="any" name="feature7" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Exit Rates</label>
                    <input type="number" step="any" name="feature8" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Page Values</label>
                    <input type="number" step="any" name="feature9" class="form-control" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="fw-semibold">Special Day</label>
                    <input type="number" step="any" name="feature10" class="form-control" required>
                </div>

            </div>

           <button type="submit" class="btn-predict" onclick="showLoader()">
    Predict Now ðŸš€
</button>

<div id="loader" class="loader-container">
    <div class="spinner"></div>
    <p>Analyzing User Behavior...</p>
</div>


        </form>

        {% if prediction_text %}
        <div class="result-box mt-5 text-center">

            <h4 class="fw-bold 
                {% if prediction_text == 'Will Purchase' %} text-success 
                {% else %} text-danger {% endif %}">
                {{ prediction_text }}
            </h4>

            <p class="mt-2">Probability: <strong>{{ probability }}%</strong></p>

            <div class="progress mt-3">
                <div class="progress-bar bg-info" 
                     role="progressbar"
                     style="width: {{ probability }}%">
                </div>
            </div>

        </div>
        {% endif %}

    </div>

</div>

</body>
</html>
<script>
function showLoader() {
    document.getElementById("loader").style.display = "block";
}
</script>


